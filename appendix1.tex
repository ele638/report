\section{Приложение А}

Модификация эталонного проекта \texttt{r2point.rb}:

\begin{small}
\begin{verbatim}

>   # расстояние между вершинами меньше 1?
>   def distance(a)
>     if self.dist(a)<=1
>       1
>     else
>       0
>     end
>   end
\end{verbatim}
\end{small}

Модификация эталонного проекта \texttt{convex.rb}:
\begin{small}
\begin{verbatim}
>   def dist;      0   end

 
>   def dist
>     if @p.dist(@q) <= 1
>       1
>     else
>       0
>     end
> end
 

<   attr_reader :points, :perimeter, :area
---
>   attr_reader :points, :perimeter, :area, :dist
 
>     @dist = a.distance(b) + b.distance(c) + c.distance(a)
 
>  @perimeter += t.dist(@points.first) + t.dist(@points.last)
>  @dist += t.distance(@points.first) + t.distance(@points.last)
>  @points.push_first(t)
 
>  p = @points.pop_first
>   while t.light?(p, @points.first)
>     @perimeter -= p.dist(@points.first)
>     @area      += R2Point.area(t, p, @points.first).abs
>     @dist      -= p.distance(@points.first)
>       p  = @points.pop_first
>   end
> @points.push_first(p)




>  p = @points.pop_last
>    while t.light?(@points.last, p)
>      @perimeter -= p.dist(@points.last)
>      @area      += R2Point.area(t, p, @points.last).abs
>      @dist      -= p.distance(@points.last)
>        p = @points.pop_last
>    end
>  @points.push_last(p)

> 
\end{verbatim}
\end{small}
